# üí° ‡πÇ‡∏Ñ‡∏£‡∏á‡∏Å‡∏≤‡∏£: Smart LED Controller Pro (Web-Based Control)

‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ó‡∏£‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå‡πÑ‡∏ü LED ‡∏≠‡∏±‡∏à‡∏â‡∏£‡∏¥‡∏¢‡∏∞‡∏ó‡∏µ‡πà‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏ö‡∏£‡∏ô‡∏î‡πå‡πÄ‡∏ô‡∏°‡πÉ‡∏ô‡∏ó‡πâ‡∏≠‡∏á‡∏ï‡∏•‡∏≤‡∏î ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ ESP32 ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡∏õ‡∏•‡πà‡∏≠‡∏¢ WiFi ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡πâ‡∏≤‡∏á Web Interface ‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡πà‡∏≤‡∏á ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•

## üéØ ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏°‡∏ö‡∏±‡∏ï‡∏¥‡∏´‡∏•‡∏±‡∏Å (Full Functions)
- **Web UI Control:** ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ú‡πà‡∏≤‡∏ô Web Browser ‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏≠‡∏õ
- **Color Picker:** ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ‡πÑ‡∏î‡πâ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ñ‡∏∂‡∏á 16 ‡∏•‡πâ‡∏≤‡∏ô‡∏™‡∏µ (RGB)
- **Presets & Animations:** ‡∏°‡∏µ‡πÇ‡∏´‡∏°‡∏î‡πÑ‡∏ü‡∏ß‡∏¥‡πà‡∏á ‡πÑ‡∏ü‡∏´‡∏≤‡∏¢‡πÉ‡∏à ‡πÅ‡∏•‡∏∞‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏Å‡∏ß‡πà‡∏≤ 10 ‡πÅ‡∏ö‡∏ö
- **Slider Control:** ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏ß‡πà‡∏≤‡∏á (Brightness) ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß (Speed) ‡∏Ç‡∏≠‡∏á‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÑ‡∏î‡πâ‡πÅ‡∏ö‡∏ö Real-time
- **Auto-Remember:** ‡∏à‡∏î‡∏à‡∏≥‡πÇ‡∏´‡∏°‡∏î‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà

## üõ†Ô∏è ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå (BOM)
| ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå                    | ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà                                                          |
| :----------------------- | :------------------------------------------------------------ |
| **ESP32 / ESP8266**      | ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô Web Server (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ESP32 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏∑‡πà‡∏ô‡πÑ‡∏´‡∏•) |
| **WS2812B LED Strip**    | ‡πÑ‡∏ü Addressable LED (5V)                                       |
| **Power Supply 5V**      | ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü (‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏î‡∏ß‡∏á‡πÑ‡∏ü ‡πÄ‡∏ä‡πà‡∏ô 5V 10A ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 180 ‡∏î‡∏ß‡∏á)          |
| **Capacitor 1000uF**     | ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏≠‡∏á‡πÅ‡∏™‡πÑ‡∏ü‡πÉ‡∏´‡πâ‡∏Ñ‡∏á‡∏ó‡∏µ‡πà (Smoothing)                                 |
| **Resistor 330-470 Ohm** | ‡∏ï‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏Ç‡∏≤ Data ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡∏à‡∏≤‡∏Å‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏Å‡∏£‡∏∞‡∏ä‡∏≤‡∏Å                   |

## üîå ‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏ß‡∏á‡∏à‡∏£ (Wiring)

```mermaid
graph TD
    PSU[Power Supply 5V] -- "+5V" --> LED_VCC[LED Strip VCC]
    PSU -- "GND" --> LED_GND[LED Strip GND]
    PSU -- "+5V" --> MCU_VIN[MCU VIN / 5V]
    PSU -- "GND" --> MCU_GND[MCU GND]
    
    MCU_DATA[MCU GPIO D2/D4] -- "Resistor 470R" --> LED_DIN[LED Strip Data IN]
    
    subgraph Smoothing
        PSU_CAP[Capacitor 1000uF] -- Parallel -- PSU
    end
```

> [!TIP]
> **Pin ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ESP8266:** ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏Ç‡∏≤ **D4 (GPIO 2)** ‡∏´‡∏£‡∏∑‡∏≠ **D2 (GPIO 4)** ‡∏ã‡∏∂‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≤‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ESP8266 ‡∏Ñ‡∏£‡∏±‡∏ö

---

## üíª ‡πÇ‡∏Ñ‡πâ‡∏î‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° (Full Function Firmware)

‡πÉ‡∏ä‡πâ Library `FastLED` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏ü ‡πÅ‡∏•‡∏∞ `WebServer` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°

```cpp
#if defined(ESP32)
  #include <WiFi.h>
  #include <WebServer.h>
#elif defined(ESP8266)
  #include <ESP8266WiFi.h>
  #include <ESP8266WebServer.h>
#endif
#include <FastLED.h>

#define LED_PIN     2 // D4 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö ESP8266 ‡∏´‡∏£‡∏∑‡∏≠ GPIO 2
#define NUM_LEDS    60
#define LED_TYPE    WS2812B
#define COLOR_ORDER GRB

CRGB leds[NUM_LEDS];

#if defined(ESP32)
  WebServer server(80);
#elif defined(ESP8266)
  ESP8266WebServer server(80);
#endif

// ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
uint8_t brightness = 128;
uint8_t currentEffect = 0;
uint8_t speed = 50;
CRGB solidColor = CRGB::Red;

const char* ssid = "GhostMicro_LED_Pro";
const char* password = "password";

// ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÇ‡∏´‡∏°‡∏î‡πÑ‡∏ü‡∏ï‡πà‡∏≤‡∏á‡πÜ (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á)
void effectRainbow() {
  static uint8_t hue = 0;
  fill_rainbow(leds, NUM_LEDS, hue++, 7);
}

void effectPulse() {
  float pulse = (exp(sin(millis()/2000.0*PI)) - 0.36787944)*108.0;
  fill_solid(leds, NUM_LEDS, solidColor);
  FastLED.setBrightness(map(pulse, 0, 255, 0, brightness));
}

void setup() {
  Serial.begin(115200);
  FastLED.addLeds<LED_TYPE, LED_PIN, COLOR_ORDER>(leds, NUM_LEDS);
  FastLED.setBrightness(brightness);

  WiFi.softAP(ssid, password);
  Serial.print("AP IP address: ");
  Serial.println(WiFi.softAPIP());

  // --- Web Interior Logic ---
  server.on("/", []() {
    String html = "<html><head><meta name='viewport' content='width=device-width, initial-scale=1'>";
    html += "<style>body{font-family:sans-serif; text-align:center; padding:20px;} button{padding:15px; margin:5px; width:40%;}</style></head>";
    html += "<body><h1>LED Controller Pro</h1>";
    html += "<p>Brightness: <input type='range' onchange='fetch(\"/set?b=\"+this.value)' value='"+String(brightness)+"'></p>";
    html += "<h2>Modes</h2>";
    html += "<button onclick='fetch(\"/mode?m=0\")'>Solid</button>";
    html += "<button onclick='fetch(\"/mode?m=1\")'>Rainbow</button>";
    html += "<button onclick='fetch(\"/mode?m=2\")'>Pulse</button>";
    html += "</body></html>";
    server.send(200, "text/html", html);
  });

  server.on("/set", []() {
    if (server.hasArg("b")) brightness = server.arg("b").toInt();
    server.send(200, "text/plain", "OK");
  });

  server.on("/mode", []() {
    if (server.hasArg("m")) currentEffect = server.arg("m").toInt();
    server.send(200, "text/plain", "OK");
  });

  server.begin();
}

void loop() {
  server.handleClient();
  
  switch(currentEffect) {
    case 0: fill_solid(leds, NUM_LEDS, solidColor); break;
    case 1: effectRainbow(); break;
    case 2: effectPulse(); break;
  }
  
  FastLED.show();
  delay(10);
}
```

---

## üèÜ ‡∏Ç‡πâ‡∏≠‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏π‡πà‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÇ‡∏õ‡∏£
1. **Power Injection:** ‡∏´‡∏≤‡∏Å‡∏ï‡πà‡∏≠‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏¢‡∏≤‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô 2 ‡πÄ‡∏°‡∏ï‡∏£ ‡∏Ñ‡∏ß‡∏£‡∏ï‡πà‡∏≠‡πÑ‡∏ü‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á 5V ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á "‡∏´‡∏±‡∏ß" ‡πÅ‡∏•‡∏∞ "‡∏ó‡πâ‡∏≤‡∏¢" ‡∏Ç‡∏≠‡∏á‡πÄ‡∏™‡πâ‡∏ô‡πÑ‡∏ü‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏™‡∏µ‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≤‡∏¢‡∏™‡∏≤‡∏¢
2. **Logic Level Shifter:** ‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì Data ‡∏à‡∏≤‡∏Å ESP32 ‡∏Ñ‡∏∑‡∏≠ 3.3V ‡πÅ‡∏ï‡πà‡πÑ‡∏ü WS2812B ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ 5V ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ä‡πâ‡∏ä‡∏¥‡∏õ **74HCT125** ‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£ 100%
3. **Fuse:** ‡∏ï‡πà‡∏≠‡∏ü‡∏¥‡∏ß‡∏™‡πå‡∏Ç‡∏ô‡∏≤‡∏î 10A ‡∏ó‡∏µ‡πà‡∏Ç‡∏±‡πâ‡∏ß‡∏ö‡∏ß‡∏Å‡∏Ç‡∏≠‡∏á Power Supply ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏ü‡πÑ‡∏´‡∏°‡πâ‡∏Å‡∏£‡∏ì‡∏µ‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏•‡∏±‡∏î‡∏ß‡∏á‡∏à‡∏£

> [!IMPORTANT]
> ‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÑ‡∏õ‡∏Ñ‡∏∏‡∏°‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ **Blynk** ‡∏´‡∏£‡∏∑‡∏≠ **Home Assistant** ‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏Ñ‡∏£‡∏±‡∏ö!
